/*! roomer_tpt 2015-09-16*/
function buttonTime(){timeArray=[],minutes>=45?(thirtyTime=currentTime.getHours()+1+":30",sixtyTime=currentTime.getHours()+2+":00",parseInt(thirtyTime)>12&&(thirtyTime=parseInt(thirtyTime)-12+":30"),parseInt(sixtyTime)>12&&(sixtyTime=parseInt(sixtyTime)-12+":00"),console.log("Thirty Time: "+thirtyTime),console.log("Sixty Time: "+sixtyTime)):minutes>=30&&45>minutes?(thirtyTime=currentTime.getHours()+1+":00",sixtyTime=currentTime.getHours()+1+":30",parseInt(thirtyTime)>12&&(thirtyTime=parseInt(thirtyTime)-12+":00"),parseInt(sixtyTime)>12&&(sixtyTime=parseInt(sixtyTime)-12+":30"),console.log("Thirty Time: "+thirtyTime),console.log("Sixty Time: "+sixtyTime)):minutes>=15&&30>minutes?(thirtyTime=currentTime.getHours()+1+":00",sixtyTime=currentTime.getHours()+1+":30",parseInt(thirtyTime)>12&&(thirtyTime=parseInt(thirtyTime)-12+":00"),parseInt(sixtyTime)>12&&(sixtyTime=parseInt(sixtyTime)-12+":30"),console.log("Thirty Time: "+thirtyTime),console.log("Sixty Time: "+sixtyTime)):15>minutes&&minutes>=0&&(thirtyTime=currentTime.getHours()+":30",sixtyTime=currentTime.getHours()+1+":00",parseInt(thirtyTime)>12&&(thirtyTime=parseInt(thirtyTime)-12+":30"),parseInt(sixtyTime)>12&&(sixtyTime=parseInt(sixtyTime)-12+":00"),console.log("Thirty Time: "+thirtyTime),console.log("Sixty Time: "+sixtyTime)),timeArray.push(thirtyTime),timeArray.push(sixtyTime),console.log(timeArray)}function roomConfirmationThirty(){$.ajax({url:skdjf,success:function(a){confirmationThirtyAlert($(this)),location.reload()},error:function(a){errorAlert($(this)),location.reload()}})}function roomConfirmationSixty(){$.ajax({url:skdjf,success:function(a){confirmationSixtyAlert($(this)),location.reload()},error:function(a){errorAlert($(this)),location.reload()}})}function ajaxCall(){$.ajax({url:knjnkm,success:function(a){appendInfo(a)},error:function(a,b,c){alert(b+" "+c)}})}function customConfirmationAlert(a,b){var c=document.createElement("div");c.setAttribute("style","border: solid 5px Red;width:auto;height:auto;top:50%;left:40%;background-color:#444;color:Silver;position:fixed"),c.innerHTML="<h1>"+a+"</h1>",setTimeout(function(){c.parentNode.removeChild(c)},b),document.body.appendChild(c)}function confirmationThirtyAlert(a){customConfirmationAlert("You have booked "+a.parent().attr("id")+" through "+thirtyTime,"4000")}function confirmationSixtyAlert(a){customConfirmationAlert("You have booked "+a.parent().attr("id")+" through "+sixtyTime,"4000")}function errorAlert(a){alert("Sorry! "+a.parent().attr("id")+" was booked by someone else since you loaded the page.  Please choose a different conference room.")}function appendInfo(){buttonTime();for(var a=0;a<roomArray.length;a++)$("#rooms").append("<div id='"+roomArray[a].roomNumber+"'><p class='room text availYellow'>"+roomArray[a].roomNumber+" Capacity: "+roomArray[a].capacity+"</p><button class='thirty btn btn-book'><span class='glyphicon glyphicon-arrow-right' aria-hidden='true'></span>"+thirtyTime+"</button><button class='sixty btn btn-book'><span class='glyphicon glyphicon-arrow-right' aria-hidden='true'></span>"+sixtyTime+"</button></div>")}function refreshAt(a,b,c,d){var e=new Date,f=new Date,g=new Date;if(g.getUTCDay()==d){(e.getUTCHours()>a||e.getUTCHours()==a&&e.getUTCMinutes()>b||e.getUTCHours()==a&&e.getUTCMinutes()==b&&e.getUTCSeconds()>=c)&&f.setUTCDate(e.getUTCDate()+1),f.setUTCHours(a),f.setUTCMinutes(b),f.setUTCSeconds(c);var h=f.getTime()-e.getTime();setTimeout(function(){window.location.reload(!0)},h)}}function refreshAt(a,b,c){var d=new Date,e=new Date;(d.getHours()>a||d.getHours()==a&&d.getMinutes()>b||d.getHours()==a&&d.getMinutes()==b&&d.getSeconds()>=c)&&e.setDate(d.getDate()+1),e.setHours(a),e.setMinutes(b),e.setSeconds(c);var f=e.getTime()-d.getTime();setTimeout(function(){window.location.reload(!0)},f)}function realRefreshAt(a,b){var c=new Date,d=new Date;(c.getMinutes()>a||c.getMinutes()==a&&c.getSeconds()>b||c.getMinutes()==a&&c.getSeconds()==b)&&d.setDate(c.getDate()+1),d.setMinutes(a),d.setSeconds(b);var e=d.getTime()-c.getTime();setTimeout(function(){window.location.reload(!0)},e)}var currentTime=new Date,minutes=currentTime.getMinutes(),thirtyTime,sixtyTime,timeArray=[];$(document).ready(function(){buttonTime(),appendInfo(),realRefreshAt(43,0),realRefreshAt(43,10),$("#rooms").on("click",".thirty",function(){confirmationThirtyAlert($(this)),console.log("THIS!")}),$("#rooms").on("click",".sixty",function(){confirmationSixtyAlert($(this))})});var roomArray=[{roomNumber:"CR 2161",capacity:10,computer:!0},{roomNumber:"CR 3212",capacity:10,computer:!0},{roomNumber:"CR 3487",capacity:4,computer:!1},{roomNumber:"CR 4112",capacity:4,computer:!1},{roomNumber:"CR 4141",capacity:4,computer:!1},{roomNumber:"CR 4181",capacity:8,computer:!0},{roomNumber:"CR 4211",capacity:4,computer:!1},{roomNumber:"CR 4245",capacity:111,computer:"uknown"},{roomNumber:"CR 4261",capacity:4,computer:!1},{roomNumber:"CR 4312",capacity:6,computer:!1},{roomNumber:"CR 4416",capacity:8,computer:!1},{roomNumber:"CR 4487",capacity:6,computer:!1},{roomNumber:"CR 4541",capacity:10,computer:!0},{roomNumber:"The Boardroom",capacity:36,computer:!0},{roomNumber:"The Street Space",capacity:"unknown",computer:"unknown"},{roomNumber:"Training Room",capacity:16,computer:!0}];